(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home3Detail"],{"0f71":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"songsListsDetail"},[a("el-card",[a("div",{class:t.changeClass},[a("img",{staticClass:"coverImgUrl",attrs:{src:t.playlist.coverImgUrl}}),a("div",{staticClass:"detail"},[a("h2",[t._v(t._s(t.playlist.name))]),a("div",{staticClass:"creacter"},[a("img",{staticClass:"avatarUrl",attrs:{src:t.playlist.creator.avatarUrl}}),a("h3",[t._v(t._s(t.playlist.creator.nickname))]),a("h4",[t._v(t._s(t._f("dateFormat2")(t.playlist.createTime))+"创建")])]),a("p",[a("b",[t._v("标签:")]),t._l(t.playlist.tags,(function(e){return a("el-tag",{key:e,attrs:{type:"warning",effect:"plain"}},[t._v(" "+t._s(e)+" ")])}))],2),a("p",[a("b",[t._v("简介:")]),t._v(t._s(t.playlist.description))])])])]),a("el-card",{staticClass:"con"},[a("el-tabs",{attrs:{lazy:""},on:{"tab-click":t.handleClick},model:{value:t.activeCat,callback:function(e){t.activeCat=e},expression:"activeCat"}},[a("el-tab-pane",{attrs:{label:"歌曲列表",name:"0"}},[t.mySrceenWidth>1200?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playlist.tracks,stripe:"","highlight-current-row":""},on:{"row-click":t.playMusicTab}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"歌名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" "),0!==e.row.mv?a("i",{staticClass:"el-icon-video-camera icon",on:{click:function(a){return a.stopPropagation(),t.goMV(e.row.mv)}}}):t._e()]}}],null,!1,972952948)}),a("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手",width:"250"}}),a("el-table-column",{attrs:{prop:"al.name",label:"专辑"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 《"+t._s(e.row.al.name)+"》 ")]}}],null,!1,4134676024)}),a("el-table-column",{attrs:{prop:"dt",label:"时长",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("dateFormat1")(e.row.dt))+" ")]}}],null,!1,3883468690)})],1):a("div",{staticClass:"mobSongsList"},[a("ul",t._l(t.playlist.tracks,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.playMusicTab({id:e.id,duration:e.dt})}}},[a("h4",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.ar[0].name))]),0!==e.mv?a("i",{staticClass:"el-icon-video-camera icon",on:{click:function(a){return a.stopPropagation(),t.goMV(e.mv)}}}):t._e(),a("span",[t._v(t._s(t._f("dateFormat1")(e.dt)))])])})),0)])],1),a("el-tab-pane",{attrs:{label:"评论",name:"1"}},[a("div",{staticClass:"hotComments"},[a("h2",[t._v("热门评论（"+t._s(t.hotTotal)+"）")]),t._l(t.hotComments,(function(e){return a("div",{key:e.commentId,staticClass:"oneComment"},[a("img",{attrs:{src:e.user.avatarUrl}}),a("div",{staticClass:"con1"},[a("div",{staticClass:"con2"},[a("h5",[t._v(t._s(e.user.nickname)+":")]),a("p",[t._v(t._s(e.content))])]),t._l(e.beReplied,(function(e){return a("div",{key:e.beRepliedCommentId,staticClass:"con3"},[a("h5",[t._v(t._s(e.user.nickname)+":")]),a("p",[t._v(t._s(e.content))])])})),a("div",{staticClass:"time"},[t._v(" "+t._s(t._f("dateFormat3")(e.time))+" ")])],2)])})),0!==t.hotTotal?a("el-pagination",{attrs:{"current-page":t.currentPageHot,"page-size":10,layout:"prev, pager, next",total:t.hotTotal},on:{"current-change":t.handleCurrentChangeHot,"update:currentPage":function(e){t.currentPageHot=e},"update:current-page":function(e){t.currentPageHot=e}}}):t._e()],2),a("div",{staticClass:"topComments"},[a("h2",[t._v("最新评论（"+t._s(t.topTotal)+"）")]),t._l(t.topComments,(function(e){return a("div",{key:e.commentId,staticClass:"oneComment"},[a("img",{attrs:{src:e.user.avatarUrl}}),a("div",{staticClass:"con1"},[a("div",{staticClass:"con2"},[a("h5",[t._v(t._s(e.user.nickname)+":")]),a("p",[t._v(t._s(e.content))])]),t._l(e.beReplied,(function(e){return a("div",{key:e.beRepliedCommentId,staticClass:"con3"},[a("h5",[t._v(t._s(e.user.nickname)+":")]),a("p",[t._v(t._s(e.content))])])})),a("div",{staticClass:"time"},[t._v(" "+t._s(t._f("dateFormat3")(e.time))+" ")])],2)])})),0!==t.topTotal?a("el-pagination",{attrs:{"current-page":t.currentPageTop,"page-size":10,layout:"prev, pager, next",total:t.topTotal},on:{"current-change":t.handleCurrentChangeTop,"update:currentPage":function(e){t.currentPageTop=e},"update:current-page":function(e){t.currentPageTop=e}}}):t._e()],2)])],1)],1)],1)},r=[],s=(a("96cf"),a("1da1")),i=a("76a0"),o={data:function(){return{playlist:{creator:{},tracks:[]},activeCat:"0",hotTotal:0,topTotal:0,hotComments:[],topComments:[],detailId:window.sessionStorage.getItem("songsListdetailId"),currentPageHot:1,currentPageTop:1}},methods:{getDetail:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/playlist/detail",{params:{id:t.detailId}});case 2:a=e.sent,n=a.data,t.playlist=n.playlist,t.playlist.tracks=n.playlist.tracks;case 6:case"end":return e.stop()}}),e)})))()},playMusic:function(t,e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.getMusicUrl(t,e);case 2:r=n.sent,"ok"!==r&&(a.mySrceenWidth<450?Object(i["MessageBox"])("提示","抱歉，付费歌曲无法播放！"):a.$message("抱歉，付费歌曲无法播放！"));case 4:case"end":return n.stop()}}),n)})))()},playMusicTab:function(t){this.playMusic(t.id,t.dt)},hotRes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/comment/hot",{params:{id:t.detailId,type:2,limit:10,offset:10*(t.currentPageHot-1)}});case 2:a=e.sent,n=a.data,t.hotComments=n.hotComments,t.hotTotal=n.total;case 6:case"end":return e.stop()}}),e)})))()},topRes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/comment/playlist",{params:{id:t.detailId,limit:10,offset:10*(t.currentPageTop-1)}});case 2:a=e.sent,n=a.data,t.topComments=n.comments,t.topTotal=n.total;case 6:case"end":return e.stop()}}),e)})))()},getComment:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:1===t?e.hotRes():2===t?e.topRes():(e.topRes(),e.hotRes());case 1:case"end":return a.stop()}}),a)})))()},handleClick:function(t){0!==t.index?this.getComment():1!==t.index&&this.getDetail()},handleCurrentChangeHot:function(t){this.currentPageHot=t,this.getComment(1)},handleCurrentChangeTop:function(t){this.currentPageTop=t,this.getComment(2)}},created:function(){this.getDetail()},computed:{mySrceenWidth:function(){return this.srceenWidth()},changeClass:function(){return this.srceenWidth()>1e3?"detailShowPC":"detailShowMob"}}},c=o,l=(a("34c8"),a("2877")),u=Object(l["a"])(c,n,r,!1,null,"1d0b49de",null);e["default"]=u.exports},"30cf":function(t,e,a){},"34c8":function(t,e,a){"use strict";var n=a("30cf"),r=a.n(n);r.a}}]);
//# sourceMappingURL=home3Detail.82357bb8.js.map