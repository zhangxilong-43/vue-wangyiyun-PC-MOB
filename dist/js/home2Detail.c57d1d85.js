(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home2Detail"],{1943:function(t,e,n){"use strict";var a=n("6470"),r=n.n(a);r.a},6470:function(t,e,n){},adf0:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.changeMVsDetaiClass},[n("div",{class:t.changeMVPlayClass},[n("h3",[t._v("MV详情")]),n("video",{attrs:{controls:"",src:t.MVUrl}}),n("div",{staticClass:"mv-info"},[n("h3",[t._v(t._s(t.MVInfo.name))]),n("span",[t._v("发布："+t._s(t.MVInfo.publishTime))]),n("p",[t._v("播放量："+t._s(t._f("dateFormat4")(t.MVInfo.playCount)))])]),n("div",{staticClass:"singer-info"},[n("div",[n("img",{attrs:{src:t.SingerInfo.picUrl,alt:""}}),n("span",[t._v("歌手："+t._s(t.SingerInfo.name))])]),n("p",[t._v("简介："+t._s(t.SingerInfo.briefDesc))])]),n("div",{staticClass:"comment"},[n("div",{staticClass:"hotComments"},[n("h2",[t._v("热门评论（"+t._s(t.hotTotal)+"）")]),t._l(t.hotComments,(function(e){return n("div",{key:e.commentId,staticClass:"oneComment"},[n("img",{attrs:{src:e.user.avatarUrl}}),n("div",{staticClass:"con1"},[n("div",{staticClass:"con2"},[n("h5",[t._v(t._s(e.user.nickname)+":")]),n("p",[t._v(t._s(e.content))])]),t._l(e.beReplied,(function(e){return n("div",{key:e.beRepliedCommentId,staticClass:"con3"},[n("h5",[t._v(t._s(e.user.nickname)+":")]),n("p",[t._v(t._s(e.content))])])})),n("div",{staticClass:"time"},[t._v(" "+t._s(t._f("dateFormat3")(e.time))+" ")])],2)])})),0!==t.hotTotal?n("el-pagination",{attrs:{"current-page":t.currentPageHot,"page-size":10,layout:"prev, pager, next",total:t.hotTotal},on:{"current-change":t.handleCurrentChangeHot,"update:currentPage":function(e){t.currentPageHot=e},"update:current-page":function(e){t.currentPageHot=e}}}):t._e()],2),n("div",{staticClass:"topComments"},[n("h2",[t._v("最新评论（"+t._s(t.topTotal)+"）")]),t._l(t.topComments,(function(e){return n("div",{key:e.commentId,staticClass:"oneComment"},[n("img",{attrs:{src:e.user.avatarUrl}}),n("div",{staticClass:"con1"},[n("div",{staticClass:"con2"},[n("h5",[t._v(t._s(e.user.nickname)+":")]),n("p",[t._v(t._s(e.content))])]),t._l(e.beReplied,(function(e){return n("div",{key:e.beRepliedCommentId,staticClass:"con3"},[n("h5",[t._v(t._s(e.user.nickname)+":")]),n("p",[t._v(t._s(e.content))])])})),n("div",{staticClass:"time"},[t._v(" "+t._s(t._f("dateFormat3")(e.time))+" ")])],2)])})),0!==t.topTotal?n("el-pagination",{attrs:{"current-page":t.currentPageTop,"page-size":10,layout:"prev, pager, next",total:t.topTotal},on:{"current-change":t.handleCurrentChangeTop,"update:currentPage":function(e){t.currentPageTop=e},"update:current-page":function(e){t.currentPageTop=e}}}):t._e()],2)])]),n("div",{staticClass:"relatedMV"},[n("h3",[t._v("相关推荐")]),t._l(t.relatedMV,(function(e){return n("div",{key:e.id,class:t.changeOneMVClass,on:{click:function(n){return t.myGoMV(e.id)}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-bofang1"}})]),n("img",{attrs:{src:e.cover}}),n("span",{staticClass:"iconfont icon-bofang"},[t._v(t._s(t._f("dateFormat4")(e.playCount)))]),n("div",{staticClass:"time"},[t._v(t._s(t._f("dateFormat1")(e.duration)))]),n("div",{staticClass:"txt"},[n("h3",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.artistName))])])])}))],2)])},r=[],s=(n("96cf"),n("1da1")),i={data:function(){return{MVid:window.sessionStorage.getItem("MVdetailId"),relatedMV:[],MVUrl:null,MVInfo:{},artistId:0,SingerInfo:{},hotTotal:0,topTotal:0,hotComments:[],topComments:[],currentPageHot:1,currentPageTop:1}},methods:{getRelatedMV:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/simi/mv",{params:{mvid:t.MVid}});case 2:n=e.sent,a=n.data,t.relatedMV=a.mvs;case 5:case"end":return e.stop()}}),e)})))()},getMVUrl:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/mv/url",{params:{id:t.MVid}});case 2:n=e.sent,a=n.data,t.MVUrl=a.data.url;case 5:case"end":return e.stop()}}),e)})))()},getMVInfo:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/mv/detail",{params:{mvid:t.MVid}});case 2:n=e.sent,a=n.data,t.MVInfo=a.data,t.artistId=a.data.artistId,t.getSingerInfo();case 7:case"end":return e.stop()}}),e)})))()},getSingerInfo:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/artists",{params:{id:t.artistId}});case 2:n=e.sent,a=n.data,t.SingerInfo=a.artist;case 5:case"end":return e.stop()}}),e)})))()},myGoMV:function(t){window.location.reload(),this.goMV(t)},hotRes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/comment/hot",{params:{id:t.MVid,type:1,limit:10,offset:10*(t.currentPageHot-1)}});case 2:n=e.sent,a=n.data,t.hotComments=a.hotComments,t.hotTotal=a.total;case 6:case"end":return e.stop()}}),e)})))()},topRes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/comment/mv",{params:{id:t.MVid,limit:10,offset:10*(t.currentPageTop-1)}});case 2:n=e.sent,a=n.data,t.topComments=a.comments,t.topTotal=a.total;case 6:case"end":return e.stop()}}),e)})))()},getComment:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:1===t?e.hotRes():2===t?e.topRes():(e.topRes(),e.hotRes());case 1:case"end":return n.stop()}}),n)})))()},handleCurrentChangeHot:function(t){this.currentPageHot=t,this.getComment(1)},handleCurrentChangeTop:function(t){this.currentPageTop=t,this.getComment(2)}},created:function(){this.getMVUrl(),this.getMVInfo(),this.getComment(),this.getRelatedMV()},computed:{changeMVsDetaiClass:function(){return this.srceenWidth()<1290?"MVsDetailMob":"MVsDetailPC  el-card"},changeMVPlayClass:function(){return this.srceenWidth()<1290?"MVPlayMob":"MVPlayPC"},changeOneMVClass:function(){return this.srceenWidth()<1290?"oneMVMob":"oneMVPC"}}},o=i,c=(n("1943"),n("2877")),u=Object(c["a"])(o,a,r,!1,null,"68a0f3f6",null);e["default"]=u.exports}}]);
//# sourceMappingURL=home2Detail.c57d1d85.js.map